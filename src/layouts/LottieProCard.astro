---
import { marked } from "marked";

import type { Section, SubSection, Item } from "../types/types";

interface Props {
  lottieProCard: SubSection;
  bgSvgFill?: string;
  iconProp?: string;
}

const { lottieProCard, bgSvgFill, iconProp } = Astro.props;


---

<>
  <div class="shadow-md h-auto md:h-full min-h-0">
    {
      lottieProCard.title && (
        <div style="position: relative; width: 100%; height: 50px;">
          
          <svg
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
            viewBox="0 0 100 100"
            preserveAspectRatio="none"
          >
            <path
              d="M0,-1L80,-1L70,101L0,101z"
              fill={`${bgSvgFill}`}
              fill-opacity="0.5"
            />
            <path
              d="M0,-1L75,-1L65,101L0,101z"
              fill={`${bgSvgFill}`}
              fill-opacity="0.9"
            />
          </svg>
          
          <div
            class="flex items-center justify-between relative p-4"
            style="height: 50px"
          >
            <div
              class="text-white font-semibold "
              set:html={marked(lottieProCard.title)}
            />

            {iconProp && (
              <div class="w-10 h-10" style={`color: ${bgSvgFill}`}  set:html={iconProp} />
            )}

          </div>

          
        </div>
      )
    }

    {
      lottieProCard.image && (
        <div class="">
          <img src={lottieProCard.image} alt="" />
        </div>
      )
    }

    {
      lottieProCard.text && (
        <div class="p-4" set:html={marked(lottieProCard.text)} />
      )
    }
  </div>
</>
